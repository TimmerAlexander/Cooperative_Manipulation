<launch>
  <!-- Set namespace of the manipulators:____________________________________________________________________________-->
  <!--  -->
  <arg name="franka_emika_name"  default="panda"/>
  <arg name="universal_robot_name"  default="ur"/>


  <!-- Gazebo launch:________________________________________________________________________________________________-->
  <arg name="load_gazebo" default="true"/>
  <include if="$(arg load_gazebo)" file="$(find cooperative_manipulation)/world/launch/gazebo_world.launch"/>

  <!-- Franka Emik:__________________________________________________________________________________________________-->

    <!--initial_pose(translation and rotation) of base-->
    <!--arg with suffix tf for static_transform_publisher node, args without suffix "tf" fit for urdf files-->
    <arg name="panda_base_trans" default="'1 1 0'"/>
    <arg name="panda_base_trans_tf" default="0 0 0"/>
    <arg name="panda_base_rot" default="'0 0 0'"/>
    <arg name="panda_base_rot_tf" default="0 0 0 1"/>
    <arg name="panda_initial_pose" default="[0.00,-0.785,0.0,-2.356,0.0,1.57,-0.785]"/>

    <!-- Load Franka Emika details to parameterserver -->
    <rosparam command="load" file="$(find panda_gazebo)/config/robot_details.yaml"/>
    
    <!-- Launch Franka Emika -->
    <group ns="$(arg franka_emika_name)">
      <include file="$(find cooperative_manipulation)/simulation_launch/franka_emika.launch">
            <arg name="panda_name" value="$(arg franka_emika_name)"/>
            <arg name="initial_pose" value="$(arg panda_initial_pose)"/>
            <arg name="panda_xyz" value="$(arg panda_base_trans)"/>
            <arg name="panda_xyz_tf" value="$(arg panda_base_trans_tf)"/>
        </include>
    </group> 

    <!-- Franka Emika launch rviz -->
    <!--
    <node name="rviz" pkg="rviz" type="rviz" respawn="false" args="-d $(find cooperative_manipulation)/world/rviz/franka_single.rviz"/>
    -->
    <!-- Launch Franka Emika controller -->
    <!--
      <include file="$(find cooperative_manipulation)/simulation_launch/franka_emika_controller.launch">
        <arg name="panda_name" value="$(arg franka_emika_name)"/>
      </include>
    -->
  

  <!-- Universal Robot:______________________________________________________________________________________________-->

    <!-- Set Universal Robot arguments -->
    <!--initial_pose(translation and rotation) of base-->
    <arg name="ur_base_trans" default="'-1.0 1.0 0.0'"/>
    <arg name="ur_base_rot" default="'0.0 0.0 0.0'"/>

    <!-- Launch Universal Robot -->
    <group ns="$(arg universal_robot_name)">
      <include file="$(find cooperative_manipulation)/simulation_launch/universal_robot.launch">
    </include>
    </group> 

    <!-- Universal Robot launch rviz -->
    <!-- 
      <node name="rviz" pkg="rviz" type="rviz" respawn="false" args="-d $(find cooperative_manipulation)/world/rviz/ur_single.rviz"/>
    -->
    
  <!-- Launch Rviz:__________________________________________________________________________________________________-->
    <!--
    <node name="rviz" pkg="rviz" type="rviz" respawn="false" args="-d $(find cooperative_manipulation)/world/rviz/cooperative_manipulation.rviz"/>
    -->
 
</launch>
